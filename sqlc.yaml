version: "2"
sql:
  - engine: "postgresql"
    queries: "sql/queries"
    schema: "sql/schemas"
    gen:
      go:
        package: "db"
        out: "internal/db"
        sql_package: "pgx/v5"
        emit_interface: true
        emit_json_tags: true
        emit_db_tags: true
        emit_prepared_queries: false
        emit_exact_table_names: false
        emit_empty_slices: true
        emit_exported_queries: true
        overrides:
          - column: "*.created_at"
            go_type: "int64"
          - column: "*.updated_at"
            go_type: "int64"
          - column: "*.timestamp"
            go_type: "int64"
          - column: "*.open_time"
            go_type: "int64"
          - column: "*.close_time"
            go_type: "int64"
          - column: "*.last_sync_time"
            go_type: "int64"
          - column: "*.last_data_time"
            go_type: "int64"
          - column: "*.last_update_id"
            go_type: "int64"
          - column: "*.trade_id"
            go_type: "int64"
          # Price and volume fields as float64
          - column: "*.price"
            go_type: "float64"
          - column: "*.open_price"
            go_type: "float64"
          - column: "*.high_price"
            go_type: "float64"
          - column: "*.low_price"
            go_type: "float64"
          - column: "*.close_price"
            go_type: "float64"
          - column: "*.volume"
            go_type: "float64"
          - column: "*.quote_volume"
            go_type: "float64"
          - column: "*.taker_buy_volume"
            go_type: "float64"
          - column: "*.taker_buy_quote_volume"
            go_type: "float64"
          - column: "*.bid_price"
            go_type: "sql.NullFloat64"
          - column: "*.bid_qty"
            go_type: "sql.NullFloat64"
          - column: "*.ask_price"
            go_type: "sql.NullFloat64"
          - column: "*.ask_qty"
            go_type: "sql.NullFloat64"
          - column: "*.volume_24h"
            go_type: "sql.NullFloat64"
          - column: "*.quote_volume_24h"
            go_type: "sql.NullFloat64"
          - column: "*.price_change_24h"
            go_type: "sql.NullFloat64"
          - column: "*.price_change_percent_24h"
            go_type: "sql.NullFloat64"
          - column: "*.high_24h"
            go_type: "sql.NullFloat64"
          - column: "*.low_24h"
            go_type: "sql.NullFloat64"
          - column: "*.quantity"
            go_type: "float64"
          - column: "*.quote_quantity"
            go_type: "float64"
          # Integer nullable fields
          - column: "*.trades_count_24h"
            go_type: "sql.NullInt32"
          # String nullable fields
          - column: "klines.interval"
            go_type: "string"
          - column: "sync_status.interval"
            go_type: "sql.NullString"
          - column: "*.error_message"
            go_type: "sql.NullString"
